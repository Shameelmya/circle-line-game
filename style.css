/* Base */
:root {
  --blue: #3b82f6;
  --red: #ef4444;
  --bg: #f0f2f5;
  --fg: #333;
  --muted: #666;
  --neon-blue: rgba(59,130,246,0.7);
  --neon-red: rgba(239,68,68,0.7);
}

* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: 'Nexa', sans-serif;
  background: var(--bg);
  color: var(--fg);
  overflow: hidden;
}
.container {
  max-width: 600px; margin: auto; padding:20px; text-align:center;
}
.title { font-size:2.5rem; margin-bottom:10px; }

/* Turn Indicator */
.turn-indicator {
  font-size:1.2rem; margin-bottom:20px;
  color: var(--muted);
  animation: pulse 1.5s ease-in-out infinite;
}
@keyframes pulse {
  0%,100%{opacity:1;}
  50%{opacity:0.6;}
}

/* Scoreboard */
.scoreboard {
  display:flex; justify-content:space-around; margin-bottom:20px;
  font-size:1.3rem; font-weight:bold;
}

/* Grid */
.circle-grid {
  display:flex; flex-direction:column; align-items:center;
  gap:6px; touch-action:none;
}
.circle-row { display:flex; gap:6px; }
.circle {
  width:36px; height:36px; border:2px solid #999;
  border-radius:50%; background:#fff;
  position:relative; cursor:pointer;
  transition: transform 0.15s ease;
}
.circle:active { transform: scale(1.1); }
.circle.filled-blue { background: var(--blue); border-color: var(--blue); }
.circle.filled-red { background: var(--red); border-color: var(--red); }

/* Buttons */
.controls { margin-top:20px; display:flex; justify-content:center; gap:10px; }
.btn {
  padding:10px 16px; font-size:1rem; border:none; border-radius:6px;
  background: var(--blue); color:#fff; cursor:pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  transition: background 0.2s;
}
.btn:hover { background: darken(var(--blue),10%); }

/* Canvas for lines */
#lineCanvas {
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  pointer-events:none; z-index:0;
}

/* Modal */
.modal {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.5); display:flex;
  justify-content:center; align-items:center;
  animation: fadeIn 0.3s ease;
}
.hidden { display:none; }
@keyframes fadeIn {
  from{opacity:0;} to{opacity:1;}
}
.modal-content {
  background:#fff; padding:20px; border-radius:8px;
  max-width:80%; text-align:center; box-shadow:0 6px 12px rgba(0,0,0,0.2);
}
.modal-close {
  position:absolute; top:16px; right:16px; font-size:1.4rem; cursor:pointer;
}

/* Particle container (absolute over canvas) */
.particle {
  position:absolute; width:6px; height:6px; border-radius:50%;
  opacity:0.8; animation: particleAnim 0.8s forwards;
}
@keyframes particleAnim {
  to { transform: translate(var(--dx), var(--dy)) scale(0.1); opacity:0; }
}
